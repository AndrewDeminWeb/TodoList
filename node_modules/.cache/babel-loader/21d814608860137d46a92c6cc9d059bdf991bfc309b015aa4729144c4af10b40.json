{"ast":null,"code":"import _objectSpread from\"C:/Users/\\u0410\\u043D\\u0434\\u0440\\u0435\\u0439/Desktop/Demin React app/app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/\\u0410\\u043D\\u0434\\u0440\\u0435\\u0439/Desktop/Demin React app/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useLayoutEffect,useState}from\"react\";import s from'../css/style.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ListTodos=function ListTodos(_ref){var _leftTodos$length,_checkedTodos$length;var todos=_ref.todos,setTodos=_ref.setTodos,changeCompleteTodo=_ref.changeCompleteTodo,deleteTodo=_ref.deleteTodo,listRef=_ref.listRef,editTodo=_ref.editTodo,changeEditableTodo=_ref.changeEditableTodo;var _useState=useState(todos),_useState2=_slicedToArray(_useState,2),filterTodos=_useState2[0],setFilterTodos=_useState2[1];var _useState3=useState('all'),_useState4=_slicedToArray(_useState3,2),textFilter=_useState4[0],setTextFilter=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),leftTodos=_useState6[0],setLeftTodos=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),checkedTodos=_useState8[0],setCheckedTodos=_useState8[1];var lengthLeftTodos=(_leftTodos$length=leftTodos.length)!==null&&_leftTodos$length!==void 0?_leftTodos$length:filterTodos.length;var lengthCheckedTodos=(_checkedTodos$length=checkedTodos.length)!==null&&_checkedTodos$length!==void 0?_checkedTodos$length:0;useEffect(function(){setTextFilter(textFilter);},[textFilter]);useLayoutEffect(function(){setFilterTodos(todos);setCheckedTodos(todos.filter(function(todo){return todo.isComplete===true;}));setLeftTodos(todos.filter(function(todo){return todo.isComplete===false;}));handleFilterTodo(textFilter);},[todos,textFilter]);var handleFilterTodo=function handleFilterTodo(filter){switch(filter){case\"completed\":setFilterTodos(todos.filter(function(todo){return todo.isComplete===true;}));break;case\"active\":setFilterTodos(todos.filter(function(todo){return todo.isComplete===false;}));break;default:setFilterTodos(todos);}};var selectAllTodos=function selectAllTodos(){setTodos(todos.map(function(todo){return _objectSpread(_objectSpread({},todo),{},{isComplete:true});}));};var clearAllSelectedTodo=function clearAllSelectedTodo(){setTodos(todos.filter(function(todo){return todo.isComplete!==true;}));};var handleChangeText=function handleChangeText(id,e){var textContent=e.target.textContent;setTodos(todos.map(function(todo){if(todo.id!==id)return todo;return _objectSpread(_objectSpread({},todo),{},{textTodo:textContent});}));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:s.selectAll,onClick:selectAllTodos,children:\"Select all\"}),lengthCheckedTodos!==0&&/*#__PURE__*/_jsxs(\"button\",{className:s.clearAllSelected,onClick:clearAllSelectedTodo,children:[\"Clear completed todo (\",lengthCheckedTodos,\")\"]}),/*#__PURE__*/_jsx(\"ul\",{children:filterTodos&&filterTodos.map(function(todo,i){return/*#__PURE__*/_jsxs(\"li\",{ref:function ref(el){return listRef.current[i]=el;},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:todo.isComplete,onChange:function onChange(){return changeCompleteTodo(todo.id);}}),/*#__PURE__*/_jsx(\"span\",{className:s.todo_text,onInput:function onInput(e){return handleChangeText(todo.id,e);},children:todo.textTodo}),!todo.isEditable?/*#__PURE__*/_jsx(\"span\",{className:s.edit,onClick:function onClick(){editTodo(i);changeEditableTodo(todo.id);}}):/*#__PURE__*/_jsx(\"span\",{className:s.save,onClick:function onClick(){editTodo(i);changeEditableTodo(todo.id);}}),/*#__PURE__*/_jsx(\"span\",{className:s.delete,onClick:function onClick(){return deleteTodo(todo.id);}})]},todo.id);})}),/*#__PURE__*/_jsxs(\"p\",{className:s.change_filter,children:[lengthLeftTodos,\" items left\"]}),/*#__PURE__*/_jsxs(\"div\",{className:s.change_filter,children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"filtered\",id:\"active\",onChange:function onChange(){return handleFilterTodo(setTextFilter(\"active\"));}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"active\",children:\"ACTIVE\"}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"filtered\",id:\"completed\",onChange:function onChange(){return handleFilterTodo(setTextFilter(\"completed\"));}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"completed\",children:\"COMPLETED\"}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"filtered\",id:\"all\",onChange:function onChange(){return handleFilterTodo(setTextFilter(\"all\"));},defaultChecked:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"all\",children:\"ALL\"})]})]});};export{ListTodos};","map":{"version":3,"names":["useEffect","useLayoutEffect","useState","s","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ListTodos","_ref","_leftTodos$length","_checkedTodos$length","todos","setTodos","changeCompleteTodo","deleteTodo","listRef","editTodo","changeEditableTodo","_useState","_useState2","_slicedToArray","filterTodos","setFilterTodos","_useState3","_useState4","textFilter","setTextFilter","_useState5","_useState6","leftTodos","setLeftTodos","_useState7","_useState8","checkedTodos","setCheckedTodos","lengthLeftTodos","length","lengthCheckedTodos","filter","todo","isComplete","handleFilterTodo","selectAllTodos","map","_objectSpread","clearAllSelectedTodo","handleChangeText","id","e","textContent","target","textTodo","children","className","selectAll","onClick","clearAllSelected","i","ref","el","current","type","checked","onChange","todo_text","onInput","isEditable","edit","save","delete","change_filter","name","htmlFor","defaultChecked"],"sources":["C:/Users/Андрей/Desktop/Demin React app/app/src/components/ListTodos.jsx"],"sourcesContent":["import { useEffect, useLayoutEffect, useState } from \"react\"\r\nimport s from '../css/style.module.css'\r\n\r\nconst ListTodos = ({ todos, setTodos, changeCompleteTodo, deleteTodo, listRef, editTodo, changeEditableTodo }) => {\r\n    const [filterTodos, setFilterTodos] = useState(todos)\r\n    const [textFilter, setTextFilter] = useState('all')\r\n    const [leftTodos, setLeftTodos] = useState([])\r\n    const [checkedTodos, setCheckedTodos] = useState([])\r\n\r\n    const lengthLeftTodos = leftTodos.length ?? filterTodos.length\r\n    const lengthCheckedTodos = checkedTodos.length ?? 0\r\n    \r\n    useEffect(() => {\r\n        setTextFilter(textFilter)\r\n    }, [textFilter])\r\n\r\n    useLayoutEffect(() => {\r\n        setFilterTodos(todos)\r\n        setCheckedTodos(todos.filter(todo => todo.isComplete === true))\r\n        setLeftTodos(todos.filter(todo => todo.isComplete === false))\r\n        handleFilterTodo(textFilter)\r\n    }, [todos, textFilter])\r\n\r\n    const handleFilterTodo = (filter) => {\r\n        switch(filter) {\r\n            case \"completed\":\r\n                setFilterTodos(todos.filter(todo => todo.isComplete === true))\r\n                break\r\n            case \"active\":\r\n                setFilterTodos(todos.filter(todo => todo.isComplete === false))\r\n                break\r\n            default: \r\n                setFilterTodos(todos)\r\n        }\r\n    }\r\n\r\n    const selectAllTodos = () => {\r\n        setTodos(todos.map(todo => ({ ...todo, isComplete: true })))\r\n    }\r\n\r\n    const clearAllSelectedTodo = () => {\r\n        setTodos(todos.filter(todo => todo.isComplete !== true))\r\n    }\r\n\r\n    const handleChangeText = (id, e) => {\r\n        let { target: { textContent } } = e\r\n        setTodos(todos.map(todo => {\r\n            if(todo.id !== id) return todo\r\n\r\n            return {\r\n                ...todo,\r\n                textTodo: textContent\r\n            }\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <button className={s.selectAll} onClick={selectAllTodos}>Select all</button>\r\n            {lengthCheckedTodos !== 0 &&\r\n                <button className={s.clearAllSelected} onClick={clearAllSelectedTodo}>Clear completed todo ({lengthCheckedTodos})</button>\r\n            }\r\n            <ul>\r\n                {filterTodos && filterTodos.map((todo, i) => (\r\n                    <li key={todo.id} ref={el => listRef.current[i] = el}>\r\n                        <input type=\"checkbox\" checked={todo.isComplete} onChange={() => changeCompleteTodo(todo.id)}/>\r\n                        <span className={s.todo_text} onInput={(e) => handleChangeText(todo.id, e)}>{todo.textTodo}</span>\r\n                        {!todo.isEditable ?\r\n                            <span className={s.edit} onClick={() => {\r\n                                editTodo(i)\r\n                                changeEditableTodo(todo.id)\r\n                            }}></span>\r\n                            :\r\n                            <span className={s.save} onClick={() => {\r\n                                editTodo(i)\r\n                                changeEditableTodo(todo.id)\r\n                            }}></span>\r\n                        }\r\n                        <span className={s.delete} onClick={() => deleteTodo(todo.id)}></span>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n\r\n            <p className={s.change_filter}>{lengthLeftTodos} items left</p>\r\n            \r\n            <div className={s.change_filter}>\r\n                <input type=\"radio\" name=\"filtered\" id=\"active\" onChange={() => handleFilterTodo(setTextFilter(\"active\"))} />\r\n                <label htmlFor=\"active\">ACTIVE</label>\r\n\r\n                <input type=\"radio\" name=\"filtered\" id=\"completed\" onChange={() => handleFilterTodo(setTextFilter(\"completed\"))} />\r\n                <label htmlFor=\"completed\">COMPLETED</label>\r\n\r\n                <input type=\"radio\" name=\"filtered\" id=\"all\" onChange={() => handleFilterTodo(setTextFilter(\"all\"))} defaultChecked />\r\n                <label htmlFor=\"all\">ALL</label>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport { ListTodos }"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}