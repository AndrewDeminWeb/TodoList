{"ast":null,"code":"import _objectSpread from\"C:/Users/\\u0410\\u043D\\u0434\\u0440\\u0435\\u0439/Desktop/Demin React app/app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/\\u0410\\u043D\\u0434\\u0440\\u0435\\u0439/Desktop/Demin React app/app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/\\u0410\\u043D\\u0434\\u0440\\u0435\\u0439/Desktop/Demin React app/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useRef,useState}from\"react\";import{ListTodos}from\"./ListTodos\";import s from'../css/style.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FormTodos(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),textTodo=_useState4[0],setTextTodo=_useState4[1];var listRef=useRef([]);var handleSubTodo=function handleSubTodo(){if(textTodo.trim().length){setTodos([].concat(_toConsumableArray(todos),[{id:new Date().toISOString(),textTodo:textTodo,isComplete:false,isEditable:false}]));}setTextTodo('');};var changeCompleteTodo=function changeCompleteTodo(id){setTodos(todos.map(function(todo){return todo.id!==id?todo:_objectSpread(_objectSpread({},todo),{},{isComplete:!todo.isComplete});}));};var changeEditableTodo=function changeEditableTodo(id){setTodos(todos.map(function(todo){return todo.id!==id?todo:_objectSpread(_objectSpread({},todo),{},{isEditable:!todo.isEditable});}));};var deleteTodo=function deleteTodo(id){setTodos(todos.filter(function(todo){return todo.id!==id;}));};var editTodo=function editTodo(n){var todoText=listRef.current[n].querySelector('[class*=\"todo_text\"]');if(!todoText.hasAttribute('contentEditable'))todoText.contentEditable=true;else todoText.removeAttribute('contentEditable');};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{className:s.type_todo,type:\"text\",placeholder:\"Type some todo...\",value:textTodo,onChange:function onChange(e){return setTextTodo(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:s.btn_enter_todo,onClick:handleSubTodo,children:\"Enter\"}),todos.length>0&&/*#__PURE__*/_jsx(ListTodos,{todos:todos,changeCompleteTodo:changeCompleteTodo,deleteTodo:deleteTodo,listRef:listRef,editTodo:editTodo,setTodos:setTodos,changeEditableTodo:changeEditableTodo})]});}export{FormTodos};","map":{"version":3,"names":["useRef","useState","ListTodos","s","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","FormTodos","_useState","_useState2","_slicedToArray","todos","setTodos","_useState3","_useState4","textTodo","setTextTodo","listRef","handleSubTodo","trim","length","concat","_toConsumableArray","id","Date","toISOString","isComplete","isEditable","changeCompleteTodo","map","todo","_objectSpread","changeEditableTodo","deleteTodo","filter","editTodo","n","todoText","current","querySelector","hasAttribute","contentEditable","removeAttribute","children","className","type_todo","type","placeholder","value","onChange","e","target","btn_enter_todo","onClick"],"sources":["C:/Users/Андрей/Desktop/Demin React app/app/src/components/FormTodos.jsx"],"sourcesContent":["import { useRef, useState } from \"react\"\r\nimport { ListTodos } from \"./ListTodos\"\r\nimport s from '../css/style.module.css'\r\n\r\nfunction FormTodos() {\r\n    const [todos, setTodos] = useState([])\r\n    const [textTodo, setTextTodo] = useState('')\r\n    const listRef = useRef([])\r\n\r\n    const handleSubTodo = () => {\r\n        if(textTodo.trim().length) {\r\n            setTodos([\r\n                ...todos,\r\n                {\r\n                    id: new Date().toISOString(),\r\n                    textTodo,\r\n                    isComplete: false,\r\n                    isEditable: false\r\n                }\r\n            ])\r\n        }\r\n        setTextTodo('')\r\n    }\r\n\r\n    const changeCompleteTodo = (id) => {\r\n        setTodos(todos.map(todo =>\r\n            todo.id !== id ? todo : { ...todo, isComplete: !todo.isComplete }))\r\n    }\r\n\r\n    const changeEditableTodo = (id) => {\r\n        setTodos(todos.map(todo =>\r\n            todo.id !== id ? todo : { ...todo, isEditable: !todo.isEditable }))\r\n    }\r\n\r\n    const deleteTodo = (id) => {\r\n        setTodos(todos.filter(todo => todo.id !== id))\r\n    }\r\n\r\n    const editTodo = (n) => {\r\n        let todoText = listRef.current[n].querySelector('[class*=\"todo_text\"]')\r\n        if(!todoText.hasAttribute('contentEditable'))\r\n            todoText.contentEditable = true\r\n        else\r\n            todoText.removeAttribute('contentEditable')\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <input className={s.type_todo} type=\"text\" placeholder=\"Type some todo...\" value={textTodo} onChange={(e) => setTextTodo(e.target.value)}/>\r\n            <button className={s.btn_enter_todo} onClick={handleSubTodo}>Enter</button>\r\n            {todos.length > 0 && \r\n                <ListTodos todos={todos} changeCompleteTodo={changeCompleteTodo}\r\n                deleteTodo={deleteTodo} listRef={listRef} editTodo={editTodo}\r\n                setTodos={setTodos} changeEditableTodo={changeEditableTodo}/>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport { FormTodos }"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}